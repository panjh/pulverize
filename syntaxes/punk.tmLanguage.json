{
    "name":"Punk",
    "scopeName":"source.punk",
    "fileTypes":["punk"],
    "patterns":[
        {"include":"#comment"},
        {"include":"#string"},
        {"include":"#punk"}
    ],
    "repository":{
        "comment": {
            "match": "(?:^|\\s++)(?:((#!).*)|((#).*))",
            "captures": {
                "1": {
                    "name": "comment.line.number-sign.shell meta.shebang.shell"
                },
                "2": {
                    "name": "punctuation.definition.comment.shebang.shell"
                },
                "3": {
                    "name": "comment.line.number-sign.shell"
                },
                "4": {
                    "name": "punctuation.definition.comment.shell"
                }
            }
        },
        "string": {
            "patterns": [
                {
                    "match": "\\\\.",
                    "name": "constant.character.escape.shell"
                },
                {
                    "begin": "\"",
                    "end": "\"",
                    "beginCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.begin.shell"
                        }
                    },
                    "endCaptures": {
                        "0": {
                            "name": "punctuation.definition.string.end.shell"
                        }
                    },
                    "name": "string.quoted.double.shell",
                    "patterns": [
                        {
                            "match": "\\\\[\\$\\n`\"\\\\]",
                            "name": "constant.character.escape.shell"
                        },
                        {
                            "include": "#variable"
                        },
                        {
                            "include": "#interpolation"
                        }
                    ]
                }
            ]
        },
        "punk": {
            "patterns": [
                {
                    "match": "(?<=^|;|\\s|\\|)(nop|mov|to|from|shift|keep|add|sub|shr|shl|and|or|xor|not|mul|jmp|if|wait|trigger|high|low|rise|fall|abs|rel|ticks|now|data|break|read|write|fetch|frame|hmask|vmask|rev|pdata|exit|print|load|store|otp|rewind|home|heater|otd|on|off|tempcal|region|zone|tempctrl|global|otd|occl|id)(?=$|;|\\s||\\|)",
                    "name": "support.keyword.punk"
                },
                {
                    "match": "(?<=^|\\s|[~;,\\+\\-\\=\\!])(@[a-zA-Z_][a-zA-Z0-9_\\.]*:?)(?=$|\\s||[;,\\+\\-\\=\\!])",
                    "name": "support.label.punk"
                },
                {
                    "match": "(?<=^|\\s|[~;,\\+\\-\\=\\<\\>\\!\\(\\[\\{])([0-9]+'[dhbo][0-9a-fA-F]+|[1-9][0-9]+|0[xX][0-9A-Fa-f]+|0[bB][01]+|[0-9])(?=$|\\s||[;,\\+\\-\\=\\!])",
                    "name": "support.number.punk"
                },
                {
                    "match": "(?<=^|\\s|[~;,\\+\\-\\=\\<\\>\\!\\(\\[\\{])(R(0|[1-9][0-9]?))(?=$|\\s||[;,\\+\\-\\=\\!])",
                    "name": "support.register.punk"
                },
                {
                    "match": "(?<=^|\\s|[~;,\\+\\-\\=\\!\\(\\[\\{])(\\$[a-zA-Z_][a-zA-Z0-9_\\.]*:?)(?=$|\\s||[;,\\+\\-\\=\\!])",
                    "name": "support.variable.punk"
                },
                {
                    "match": "(?<=^|;|\\s|\\|)(\\.while|\\.if|\\.else|\\.elif|\\.forever|\\.break)(?=$|;|\\s|\\|)",
                    "name": "support.macro.punk"
                },
                {
                    "match": "(?<=^|\\s|[~;,\\+\\-\\=\\!\\(\\[\\{])(M(0|[1-9][0-9]?))(?=$|\\s||[;,\\+\\-\\=\\!])",
                    "name": "support.memory.punk"
                },
                {
                    "match": "(?<=^|\\s|[~;,\\+\\-\\=\\!])([A-Z][A-Z0-9_]+)(?=$|\\s||[;,\\+\\-\\=\\!])",
                    "name": "support.parameter.punk"
                }
            ]
        }
    }
}
